<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1,viewport-fit=cover,maximum-scale=1,user-scalable=no"
    />
    <meta name="theme-color" content="#0b0c0d" />
    <title>Classement Inter-Alliances â€” Ã‰quipes MSF</title>

    <!-- Cache-bust CSS (auto remplacÃ© par le loader) -->
    <link rel="stylesheet" href="./style.css?v=ts" />

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  </head>

  <body>
    <div class="app">
      <header class="header">
        <div class="headerLeft">
          <h1 class="title">
            Classement Inter-Alliances<br />
            Ã‰quipes MSF
          </h1>
          <p class="subtitle">
            Comparaison des performances dâ€™une mÃªme Ã©quipe au sein du groupement
          </p>
        </div>

        <div class="headerRight">
          <label class="label" for="teamSelect">Ã‰quipe</label>
          <select id="teamSelect" class="select">
            <option value="">â€” Chargementâ€¦ â€”</option>
          </select>
        </div>
      </header>

      <!-- Team block -->
      <section class="card">
        <div class="cardHeader">
          <h2 id="teamTitle" class="cardTitle">â€”</h2>
        </div>

        <div id="portraits" class="portraits"></div>
      </section>

      <!-- Filtres alliances -->
      <section class="card filtersCard">
        <div class="filters" role="group" aria-label="Filtres alliances">
          <label class="filterToggle">
            <input id="filterZeus" type="checkbox" checked />
            <span>âš¡ Zeus</span>
          </label>

          <label class="filterToggle">
            <input id="filterDionysos" type="checkbox" checked />
            <span>ğŸ‡ Dionysos</span>
          </label>

          <label class="filterToggle">
            <input id="filterPoseidon" type="checkbox" checked />
            <span>ğŸ”± PosÃ©idon</span>
          </label>
        </div>
      </section>

      <!-- Players block (ranking) -->
      <section class="card">
        <div class="cardHeader">
          <div></div>
          <div class="chipCount">
            <span id="playersCount">0</span>
          </div>
        </div>

        <div id="players" class="players"></div>
      </section>
    </div>

    <!-- Loader JS anti-cache (timestamp auto) -->
    <script>
      (function () {
        // CSS cache-bust auto aussi (remplace ?v=ts)
        const links = document.querySelectorAll('link[rel="stylesheet"]');
        links.forEach((l) => {
          if (l.href.includes("v=ts")) l.href = l.href.replace("v=ts", "v=" + Date.now());
        });

        // Charge app.js avec un timestamp
        const s = document.createElement("script");
        s.src = "./app.js?v=" + Date.now();
        s.defer = true;
        document.body.appendChild(s);
      })();
    </script>
  </body>
</html>